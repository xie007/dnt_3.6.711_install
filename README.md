Discuz!NT 3.6.711 安装包
=======================

配置需求
--------

服务器：windowsXP/windows 2003 server/2008 server
Web服务器：iis 5/6/7
数据库：SqlServer2000/2005/2008


推荐配置：windows 2008server+iis 7+SqlServer2008
最低配置：windows XP + iis5+ SqlServer 2000(注:个人测试配置，不适用于实际站点)


关于站点目录权限
--------

1.       WIN2003 + IIS 6.0：需要站点目录给予ASP.NET , IUSER , IWAN , NETWORK SERVICE 读写权限。

2.       WIN2008 + IIS 7：需要站点目录给予USER , NETWORK SERVICE读写权限，IIS 设置和上面的IIS6 的设置基本一致。

 

注:虚拟主机一般都会有这些权限 , 自己的服务器一定要加这些权限



论坛安装大致有以下三种情况:
------------------------
1.       根目录安装 : 论坛配置项不需要做任何调整，只需要将站点程序（安装包upload_files目录内的所有文件）上传至站点根目录下就可以.

    (例:IIS中”本地路径”直接指向论坛根目录;访问地址为http://www.您的域名.com)

 

2.       子目录安装 : 将论坛程序放置在主站点的目录下，称为子目录. 打开DNT.config，将<forumpath>/</forumpath>修改为<forumpath>/[您的子目录名称]/</forumpath>

    (例:IIS中”本地路径”指向主站点目录;假设论坛在主站点的bbs目录下;访问地址为http://www.您的域名.com/bbs)

 

3.       虚拟目录安装 : 由于Discuz!NT拥有能大幅优化搜索引擎友好度的页面伪静态功能，所以如果论坛程序不是安装在根目录下，那么进行安装过程之前将不得不手工的修改论坛的配置节点以适应虚拟目录路径。虚拟目录安装前先打开DNT.config，将<forumpath>/</forumpath>修改为<forumpath>/[您的虚拟目录名称]/</forumpath>,(注意红字部分是”虚拟目录名称”不是论坛所在的文件夹名称).

 

论坛安装
--------

Discuz!NT的各个版本安装基本相同,在此用Discuz!NT 3.6版本为例(根目录安装http://faq.comsenz.com/viewnews-988),下面使用第二种子目录安装方法来讲解(虚拟目录和子目录安装基本一致):

 

1.       修改upload_files目录里的DNT.config中的<Forumpath>/</Forumpath>节点为<Forumpath>/bbs/</Forumpath>,数据库信息也可以在此都填了,当然在后面的安装程序里也可以填,找到这一段<Dbconnectstring>Data Source=[数据库IP地址];User ID=[数据库管理帐号];Password=[数据库密码];Initial Catalog=[数据库名];Pooling=true</Dbconnectstring>,修改完成后保存上传论坛程序upload_files目录到主站点下,上传完成后重命名upload_files文件夹为bbs(因为上面的forumpath用了bbs所以这得改成bbs).

2.       这一步很重要请仔细看 . 把论坛里的bin文件夹、web.config、DNT.config剪切到主站的根目录,再把论坛里config文件夹复制到主站的根目录 , 如果主站已经有web.config文件那么要把论坛的web.config和主站的web.config合并到一个web.config里,具体合并方法就不说了,有点.net基础的都能搞定 , 主站有bin文件夹直接把论坛bin文件夹里的所有dll放入主站的bin文件夹里就可以了

3.       运行http://www.您的域名.com/bbs/install/index.aspx,拖动至屏幕最下方点"接受协议"



4.       如出现某些项未验证成功，可能是权限设置没有做好，导致安装程序无法读取到相关数据。将目录权限设置完成后再刷新该页面即可到第三步



5.       填写数据库信息,如果没有数据库,程序会自动创建,按照提示操作会进入下一步安装



6.       填写管理员名称、密码。论坛路径第一步已经修改过，默认即可



7.        最后一步会给论坛建立初始数据,点击"完成"会进入论坛.



注:先登陆后台生成模版后再使用

  删除upgrade文件夹、install文件夹还有bin目录里的Discuz.Install.dll以免进行二次安装或升级而覆盖了论坛.

 

--------------------------------------下面是升级------------------------------------------

论坛升级
-----------

 

升级注意事项：

1、  升级之前强烈建议先备份数据库和论坛程序,以免丢失数据

2、 3.6之后版本已不再兼容3.6之前版本的模版,之前版本的模版都将不能用

3、  先在本地环境上调试无误后再进行实地升级,尽量避免升级错误

4、  升级也可能需要手动更新缓存，在系统设置中点相应的选项即可

5、  升级成功后，必须马上删除服务器上的upgrad文件夹，以避免可能的安全问题

 

了解以上事项后下面开始升级
----------------------

各个版本升级基本相同在此用Discuz!NT 3.1升级为Discuz!NT 3.6为例

1.       下载Discuz!NT 3.6升级包 , 解压后得到upload_files目录 , 把该目录下的所有文件覆盖服务器上的文件

2.       执行完以上步骤后,运行http://www.您的网站.com/bbs/upgrade/index.aspx,拖动至屏幕最下方点"接受协议"



5.       选择论坛当前的版本,本例使用Discuz!NT 3.1来做升级的,如果您是别的版本,只要选择其他版本号即可,然后点升级



6.       论坛升级成功,点”进入论坛”



注: 删除服务器上的upgrade文件夹 , 以免再次升级

